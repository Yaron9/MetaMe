# MetaMe Daemon Configuration
# Generated by: metame daemon init

telegram:
  enabled: false
  bot_token: null
  allowed_chat_ids: []

feishu:
  enabled: false
  app_id: null
  app_secret: null
  allowed_chat_ids: []

heartbeat:
  tasks: []
    # Examples — uncomment or add your own:
    #
    # Scheduled task (calls claude -p with your profile context):
    # - name: "morning-news"
    #   prompt: "抓取今天的AI领域重要新闻，整理成3条摘要，中英双语。"
    #   interval: "24h"
    #   model: "haiku"
    #   notify: true
    #
    # - name: "weekly-review"
    #   prompt: "基于我的profile，生成本周个人成长回顾和下周建议。"
    #   interval: "7d"
    #   model: "haiku"
    #   notify: true
    #
    # Script task (runs a local script directly, no claude -p):
    # - name: "distill"
    #   type: "script"
    #   command: "node ~/.metame/distill.js"
    #   interval: "6h"
    #   precondition: "test -s ~/.metame/raw_signals.jsonl"
    #   notify: false
    #
    # precondition: shell command, empty output → skip (zero tokens)
    # type: "script" → runs command directly instead of claude -p

budget:
  daily_limit: 50000
  warning_threshold: 0.8

daemon:
  model: sonnet  # sonnet, opus, haiku — model for mobile sessions
  log_max_size: 1048576
  heartbeat_check_interval: 60
  # Pre-authorize tools for mobile sessions (no permission prompts)
  # Examples: "Bash(git:*)" "Bash(npm:*)" "Edit" "Write" "WebFetch" "WebSearch"
  session_allowed_tools:
    - "WebFetch"
    - "WebSearch"
    - "Bash(git:*)"
    - "Bash(npm:*)"
